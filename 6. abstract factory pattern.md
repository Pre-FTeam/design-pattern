# Abstract Factory Pattern

<aside>
ğŸ’¡ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ì„œë¡œ ì—°ê´€ë˜ê±°ë‚˜ ì˜ì¡´ì ì¸ ê°ì²´ë“¤ì˜ ì¡°í•©ì„ ë§Œë“œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” íŒ¨í„´

</aside>

- ìƒì„± íŒ¨í„´

## íŒ©í† ë¦¬ ë©”ì†Œë“œê³¼ ì¶”ìƒ íŒ©í† ë¦¬ì˜ ì°¨ì´


- íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´
    - ì¡°ê±´ì— ë”°ë¥¸ ê°ì²´ ìƒì„±ì„ íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¡œ ìœ„ì„í•˜ì—¬, íŒ©í† ë¥´ í´ë˜ìŠ¤ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” íŒ¨í„´
- ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´
    - ì„œë¡œ ê´€ë ¨ì´ ìˆëŠ” ê°ì²´ë“¤ì„ í†µì§¸ë¡œ ë¬¶ì–´ì„œ íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ê³ , ì´ë“¤ íŒ©í† ë¦¬ë¥¼ ì¡°ê±´ì— ë”°ë¼ ìƒì„±í•˜ë„ë¡ ë‹¤ì‹œ íŒ©í† ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” íŒ¨í„´
    - ì‹±ê¸€í„´ê³¼ íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì„ ì‚¬ìš©

## ì¶”ìƒ í™í† ë¦¬ íŒ¨í„´ ì˜ˆì‹œ


![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ec2ebc5f-b99b-4067-a70a-40afafb445b4/Untitled.png)

### ë©”ì†Œë“œ íŒ¨í„´ì„ ì ìš©í•œ ì˜ˆì œ ì½”ë“œ

```java
public class Client {
  public static void main(String[] args) {
    Door lgDoor = DoorFactory.createDoor(VendorID.LG); // íŒ©í† ë¦¬ ë©”ì„œë“œ í˜¸ì¶œ
    Motor lgMotor = MotorFactory.createMotor(VendorID.LG); // íŒ©í† ë¦¬ ë©”ì„œë“œ í˜¸ì¶œ
    lgMotor.setDoor(lgDoor);

    lgDoor.open();
    lgMotor.move(Direction.UP);
  }
}
```

- ì œì¡° ì—…ì²´ì— ë”°ë¼ ëª¨í„°ì™€ ë¬¸ì— í•´ë‹¹í•˜ëŠ” êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤

### ë¬¸ì œì 

1. ë‹¤ë¥¸ ì œì¡° ì—…ì²´ì˜ ë¶€í’ˆì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°

```java
public class Client {
  public static void main(String[] args) {
	  Door hyundaiDoor = DoorFactory.createDoor(VendorID.HYUNDAI); // íŒ©í† ë¦¬ ë©”ì„œë“œ í˜¸ì¶œ
	  Motor hyundaiMotor = MotorFactory.createMotor(VendorID.HYUNDAI); // íŒ©í† ë¦¬ ë©”ì„œë“œ í˜¸ì¶œ
	  hyundaiMotor.setDoor(hyundaiDoor;

	  hyundaiDoor.open();
	  hyundaiMotor.move(Direction.UP);
  }
}
```

- ë¶€í’ˆì´ ë§ì•„ ì§ˆìˆ˜ë¡ ê° Factory í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ì´ë“¤ì˜ Factory ê°ì²´ë¥¼ ê°ê° ìƒì„±í•œë‹¤
- ì¦‰, ë¶€í’ˆì˜ ìˆ˜ê°€ ë§ì•„ì§€ë©´ íŠ¹ì • ì—…ì²´ë³„ ë¶€í’ˆì„ ìƒì„±í•˜ëŠ” ì½”ë“œì˜ ê¸¸ì´ê°€ ê¸¸ì–´ì§€ê³  ë³µì¡

1. ìƒˆë¡œìš´ ì œì¡° ì—…ì²´ì˜ ë¶€í’ˆì„ ì§€ì›í•´ì•¼ í•˜ëŠ” ê²½ìš° ex) ì‚¼ì„± ëª¨í„°ì™€ ë¬¸

```java
public class DoorFactory {
  public static Door createDoor(VendorID vendorID) {
	 Door door = null;

	 switch (vendorID) {
	   case LG:
			 door = new LGDoor();
			 break;
	   case HYUNDAI:
			 door = new HyundaiDoor();
			 break;
	   case SAMSUNG: //ìƒˆë¡œ ì¶”ê°€
			 door = new SamsungDoor();
			 break;
	 }
	 return door;
  }
}
```

- ì¶”ê°€ëœ ë§Œí¼ ë‹¤ë¥¸ Factory í´ë˜ìŠ¤ì—ë„ ì¶”ê°€í•´ ì£¼ì–´ì•¼ í•œë‹¤

### í•´ê²°ì±…

ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ, ê°ì²´ë“¤ ì‚¬ì´ì˜ ê´€ë ¨ì„±ì´ ìˆëŠ” ê²½ìš°

ë³„ë„ì˜ Factory í´ë˜ìŠ¤ê°€ ì•„ë‹ˆê³  ê´€ë ¨ ê°ì²´ë“¤ì„ ì¼ê´€ì„± ìˆê²Œ ìƒì„±í•˜ëŠ” Factory í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©

```java
public abstract class ElevatorFactory {
  public abstract Motor createMotor();
  public abstract Door createDoor();
}
```

```java
public class Client {
  public static void main(String[] args) {
    ElevatorFactory factory = null;
    String vendorName = args[0];

    // ì¸ìì— ë”°ë¼ LG ë˜ëŠ” Hyundai íŒ©í† ë¦¬ë¥¼ ìƒì„±
    if(vendorName.equalsIgnoreCase("LG"))
      factory = new LGElevatorFactory();
    else
      factory = new HyundaiElevatorFactory();

    Door door = factory.createDoor();
    Motor motor = factory.createMotor();
    motor.setDoor(door);

    door.open();
    motor.move(Direction.UP);
  }
}
```

- ì¸ìë¡œ ì£¼ì–´ì§„ ì´ë¦„ì— ë”°ë¼ ì ì ˆí•œ ë¶€í’ˆ ê°ì²´ë¥¼ ìƒì„±
- ë¬¸ì œì  1ë²ˆê³¼ ê°™ì´ ë‹¤ë¥¸ ì œì¡° ì—…ì²´ ë¶€í’ˆìœ¼ë¡œ ë³€ê²½í•´ë„ Client ì½”ë“œë¥¼ ë³€ê²½í•  í•„ìš” ì—†ìŒ
- ì—…ì²´ë³„ë¡œ Factory í´ë˜ìŠ¤ë¥¼ ì •ì˜í•´ ë¶€í’ˆ ê°ì²´ë¥¼ ê°„ë‹¨íˆ ìƒì„± ê°€ëŠ¥ â‡’ Factory í•˜ë‚˜ë§Œ ë§Œë“¤ë©´ ë¨

## ë³´ì™„ëœ ì¶”ìƒ í™í† ë¦¬ íŒ¨í„´ ì˜ˆì‹œ


- í™í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì„ ì‚¬ìš©í•´, Factory ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì„ ìº¡ìŠí™” í•œë‹¤

```java
public class ElevatorFactoryFactory {
  public static ElevatorFactory getFectory(VendorID vendorID) {
    ElevatorFactory factory = null;

    switch (vendorID) {
      case LG:
        factory = new LGElevatorFactory.getInstance();
        break;
      case HYUNDAI:
        factory = new HyundaiElevatorFactory.getInstance();
        break;
      case SAMSUNG:
        factory = new SamsungElevatorFactory.getInstance();
        break;
    }
    return factory;
  }
}
```

- ì‹±ê¸€í„´ íŒ¨í„´ì„ ì‚¬ìš©í•´ ì œì¡°ë³„ Factory ê°ì²´ëŠ” ê°ê° í•œ ê°œì”© ìƒì„±

```java
public class LGElevatorFactory extends ElevatorFactory {
  public static ElevatorFactory getFectory(VendorID vendorID) {
    private static ElevatorFactory factory;
    private LGElevatorFactory() { } // ìƒì„±ìë¥¼ privateë¡œ

    public static ElevatorFactory getInstance() {
      if(factory == null)
        factory = new LGElevatorFactory();
      return factory;
    }

    public Motor createMotor() { return new SamsungMotor(); }
    public Door createDoor() { return new SamsungDoor(); }
  }
}
```

```java
public class Client {
  public static void main(String[] args) {
    String vendorName = args[0];
    VendorID vendorID;

    if(vendorName.equalsIgnoreCase("LG"))
      vendorID = VendorID.LG;
    else if(vendorName.equalsIgnoreCase("Samsung"))
      vendorID = VendorID.SAMSUNG;
    else
      vendorID = VendorID.HYUNDAI;

    ElevatorFactory factory = ElevatorFactoryFactory.getFactory(vendorID);

		Door door = factory.createDoor();
    Motor motor = factory.createMotor();
    motor.setDoor(door);

    door.open();
    motor.move(Direction.UP);
  }
}
```

## ë ˆí¼ëŸ°ìŠ¤

https://gmlwjd9405.github.io/2018/08/08/abstract-factory-pattern.html
